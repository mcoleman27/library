<h1>Introduction</h1>

<p>Thankyou for purchasing or stealing the <em>PM Simulator 2000</em>.  With careful use it will bring you years of frustration.  This guide will tempt you with flashing lights and then show you how to edit Python 3 code.</p>

<p>First, build it.  The two main parts are the <strong>scroll:bit</strong> (matrix of white LEDS) and the <strong>micro:bit</strong> (a microcontroller).  Plug them together and stick on the battery pack so it looks like this:</p>

<p><img src="assembled.png" alt="assembled.png" /></p>

<p>Note the micro:bit needs to be pushed (quite hard) all the way into the edge connector so none of the "teeth" are showing.  The power switch is sticking out the side on the battery box and represents the peak of design sophistication.</p>

<p>Switch it on and press buttons.  Note there is a reset button on the back of the micro:bit.</p>

<h1>Installation &amp; Setup</h1>

<h2>Python 3</h2>

<ul>
<li><a href="https://www.python.org/downloads/windows/">Download</a> the current v3.x installer: </li>
<li>Run the installer and tick "Add Python 3.x to PATH"</li>
<li>Click <em>Install Now</em> to do a default installation which includes the <code>pip</code> program needed later.</li>
</ul>

<h2>Visual Studio Code</h2>

<p>This is the source code editor and will provide a terminal for running commands.
* Download and install from https://code.visualstudio.com/download
* Once installed open the VS Code application and from the menu bar click <em>Terminal</em> -> <em>New Terminal</em>.
* In the terminal type <code>python --version</code>, it should say Python 3.8, or similar.  </p>

<p>Note that at various points VS Code will offer to install plug-ins which it thinks will be helpful, based on what it can see you doing.  You don't have to install them, and sometimes they will be stupid, but they shouldn't  do any harm.  They do things like colour the code nicely or show syntax errors.</p>

<h2>Python tools for micro:bit</h2>

<ul>
<li>In the terminal type <code>pip install uflash microfs</code> to install two important tools: <a href="https://pypi.org/project/uflash/">uflash</a> &amp; <a href="https://pypi.org/project/microfs/">microfs</a>.  You may get some warnings about pip not being the latest version - shouldn't matter.</li>
<li>Plug the micro:bit into the computer using the micro USB port.  It will spring into life and also appear as a tiny flash drive, but we can ignore that (you don't need to eject it or power it down - you just yank it out, even when it's running a program)</li>
<li>Type <code>ufs ls</code> in the termianl.  The command should connect to the micro:bit, connect to it, and then list the files currenty loaded into its noggin, which are <em><span>main.</span>py</em> &amp; <em><span>scrollbit.</span>py</em>.</li>
</ul>

<p>Congratulations.  You have installed stuff.  Celebrate with cake and a chocolatey beverage.</p>

<h1>Prepare the project</h1>

<h2>Scource code folder</h2>

<ul>
<li>Copy the <code>project</code> folder from the USB stick to somewhere on your computer.</li>
<li>In VSCode select <em>Menu</em> -> <em>Add Folder to Workspace...</em> and then select the <code>project</code> folder.  The folder will be added to file explorer view on the left side of the editor. It's possible to add lots of folder this way.</li>
<li>Open this <code>readMe.md</code> file to continue reading with glorious markdown syntax highlighting.  You can also press an icon in the top right to open a preview window to display the rendered markdown view. </li>
</ul>

<h2>Setup terminal</h2>

<ul>
<li>Now the project folder is set up, if you open a terminal (<em>Terminal</em> -> <em>New Terminal</em>) it should automagically set the terminal to be "in" the project folder. </li>
<li>Type <code>ls</code> and it should show you the files in the project folder.</li>
</ul>

<p>Contratulations, you have set up your development environment.  Celebrate by cancelling a high profile work project.</p>

<h1>Code!</h1>

<p>At this point you may wish to go to the menu bar and click <em>View</em> -> <em>Appearance</em> and select <em>Full Screen</em> or <em>Zen Mode</em>.  This will help you pretend you're <a href="https://en.wikipedia.org/wiki/Leet">l33t</a>, or a hacker in a film.</p>

<h2>Modify Code</h2>

<ul>
<li>In VS Code, open and comment out the line near the end of <code>main.py</code> which says <code>sleep(100)</code> - do this by putting the cursor on the line, then pressing <code>Ctrl /</code> or just typing a <code>#</code> at the start of the line.</li>
<li>Save the file with <code>Ctrl s</code>.</li>
<li>Go to the terminal and upload the modified file to the plugged in micro:bit with the command <code>ufs put main.py</code>.</li>
<li>The yellow LED on the back of the micro:bit will flash during the transfer.  Once completed it might reboot on it's own, or you may need to press the reset button on the back to enjoy the  silly fast game.</li>
</ul>

<p>If at any point there is an error in the code, the micro:bit will scroll a message on it's small red LED display, hopefully telling you which line it thinks the problem relates to.</p>

<h2>Break it and fix it</h2>

<ul>
<li>In the terminal, wipe its memory with the command <code>uflash</code>.  This will connect to the micro:bit, erase everything on it, and load a fresh version of the MicroPython interpreter.  It's like installing an operating system without any pre-installed programs.</li>
<li>Load the library which makes it easier to program the while LED matrix onto the micro:bit using the command <code>ufs put scrollbit.py</code>.  This file is cut down version of the <a href="https://github.com/pimoroni/micropython-scrollbit/blob/master/library/scrollbit.source.py">official</a> version, to save space so we can fit more of our own code on.  Official docs for the full library are <a href="https://github.com/pimoroni/micropython-scrollbit">here</a>.</li>
<li>Load our program with <code>ufs put main.py</code>.  Note that the main program must always be called <code>main.py</code> in order to be detected and run.</li>
<li>If the micro:bit hasn't automatically started running, reach behind its face to press reset.</li>
</ul>

<h2>Experiment</h2>

<p>There are a bunch of examples programs available <a href="https://github.com/pimoroni/micropython-scrollbit/tree/master/examples">here</a>, but to run them you will need to replace the cut-down version of the scrollbit library with the <a href="https://github.com/pimoroni/micropython-scrollbit/tree/master/library">full version</a> which offers more functions like showing text and images.  Note there are two versions:</p>

<p>1) <em><span>scrollbit.source</span>py</em> which is easier to read (if you like that sort of thing) but a bigger file which takes up more memory.
2) <em><span>scrollbit</span>py</em> which is more compact.</p>

<p>Let's install the <em><span>nice_blinkys.</span>py</em> program, overwriting the currently installed program.  The code is already downloaded in the <code>official</code> sub-directory in the project folder.</p>

<ul>
<li>Run <code>ufs put official/scrollbit.py</code> to load the full led matric library code.</li>
<li>Run <code>ufs put official/nice_blinkys.py main.py</code> This command tells <code>ufs</code> to rename tne nice_blinkys.py files as <code>main.py</code> when uploaded so it will be detected and run.</li>
<li>Afer a reset, assuming you are following standard protocol and sitting in a pitch black room, you will blinded.</li>
</ul>

<p>There are a couple of other examples in the <code>official</code> sub directory.  If you've already loaded the full <em><span>scrollbit.</span>py</em> file, you only need to load the new example code, e.g. with <code>ufs put official/tilt_dot.py main.py</code></p>

<h1>Onward</h1>

<ul>
<li>Official <a href="https://microbit-micropython.readthedocs.io/en/latest/tutorials/hello.html">tutorials &amp; API</a> docs including the different commands you can use on the micro:bit.</li>
<li>Go <a href="https://coolcomponents.co.uk/collections/micro-bit">shopping</a></li>
<li>Discover <a href="https://github.com/carlosperate/awesome-microbit">awesome</a></li>
<li>Build a bioinfomatics pipeline.</li>
<li>Host a business critical application on it.</li>
</ul>
